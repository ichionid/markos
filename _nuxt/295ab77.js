(window.webpackJsonp=window.webpackJsonp||[]).push([[10,32],{385:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return f}));var n=r(8),o=r(23),c=r(25);const l=t=>t.map((t=>t.charAt(0).toUpperCase()+t.slice(1).replace(/_/g," "))).join("/");async function d({stories:e}){const{addTemplate:r,options:d}=this,m=new c.a(d.druxt.baseUrl,{...d.druxt,proxy:{api:!1}}),f=(new o.DrupalJsonApiParams).addFilter("status",!0),h=(await m.getCollectionAll("block--block",f)).map((t=>t.data)).flat(),x=Array.from(new Set(h.map((t=>t.attributes.theme))));r({src:Object(n.resolve)(t,"../templates/druxt-block.stories.js"),fileName:"stories/druxt-block.stories.js",options:{blocks:h}}),h.forEach((e=>{r({src:Object(n.resolve)(t,"../templates/druxt-block.instance.stories.js"),fileName:`stories/druxt-block.${e.attributes.drupal_internal__id}.stories.js`,options:{block:e,title:l(["Druxt","Blocks",e.attributes.theme,e.attributes.region,e.attributes.drupal_internal__id])}})})),r({src:Object(n.resolve)(t,"../templates/druxt-block-region.stories.js"),fileName:"stories/druxt-block-region.stories.js",options:{regions:Array.from(new Set(h.map((t=>t.attributes.region)))),themes:x}}),x.forEach((e=>{Array.from(new Set(h.filter((t=>t.attributes.theme===e)).map((t=>t.attributes.region)))).forEach((o=>{r({src:Object(n.resolve)(t,"../templates/druxt-block-region.instance.stories.js"),fileName:`stories/druxt-block-region.${e}.${o}.stories.js`,options:{region:o,title:l(["Druxt","Blocks",e,o]),theme:e}})}))})),e.push(Object(n.resolve)(d.buildDir,"./stories/druxt-block.stories.js")),e.push(Object(n.resolve)(d.buildDir,"./stories/druxt-block-region.stories.js")),e.push(Object(n.resolve)(d.buildDir,"./stories/druxt-block.*.stories.js")),e.push(Object(n.resolve)(d.buildDir,"./stories/druxt-block-region.*.stories.js"))}const m=function(e={}){const r={baseUrl:e.baseUrl,...(this.options||{}).druxt||{},blocks:{query:{},...((this.options||{}).druxt||{}).site,...e}};this.addModule(["druxt",r]),this.nuxt.hook("components:dirs",(e=>{e.push({path:Object(n.join)(t,"components")}),e.push({path:Object(n.join)(t,"components/blocks")})})),this.nuxt.hook("storybook:config",(async({stories:t})=>{await d.call(this,{stories:t})}))};m.meta=r(386);const f={props:{block:{type:Object,require:!0}},computed:{settings(){return this.block.attributes.settings}}}}).call(this,"/")},386:function(t){t.exports=JSON.parse('{"name":"druxt-blocks","version":"0.15.2","description":"Drupal Block and Block Region Druxt components.","keywords":["block","blocks","cms","decoupled","drupal","druxt","druxtjs","headless","jsonapi","json:api","nuxt","nuxtjs","module","storybook","vue"],"homepage":"https://druxtjs.org","bugs":{"url":"https://github.com/druxt/druxt.js/issues"},"repository":{"type":"git","url":"git+https://github.com/druxt/druxt.js"},"license":"MIT","exports":{".":{"require":"./dist/druxt-blocks.ssr.js","import":"./dist/druxt-blocks.esm.js"},"./components/*":"./dist/components/*"},"main":"dist/druxt-blocks.ssr.js","module":"dist/druxt-blocks.esm.js","files":["dist","templates"],"dependencies":{"axios":"^0.21.1","drupal-jsonapi-params":"^2.0.0","druxt":"^0.18.2","druxt-entity":"^0.24.3","druxt-router":"^0.26.1"},"optionalDependencies":{"vue":"^2.6.14","vuex":"^3.6.2"},"publishConfig":{"access":"public"}}')},396:function(t,e,r){"use strict";r.r(e);r(43),r(36),r(56),r(37),r(57);var n=r(10),o=r(26),c=r(81),l=(r(50),r(224),r(42),r(18),r(39),r(96),r(80),r(34),r(161),r(51),r(62)),d=r.n(l),m=r(160),f=r(30);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var j={name:"DruxtMenu",extends:m.default,props:{depth:{type:Number,default:0},itemClass:{type:String,default:""},itemComponent:{type:String,default:"li"},maxDepth:{type:Number,default:null},minDepth:{type:Number,default:0},name:{type:String,default:"main"},parentId:{type:String,default:null},parentClass:{type:String,default:""},parentComponent:{type:String,default:"li"},parentWrapperClass:{type:String,default:""},parentWrapperComponent:{type:String,default:"ul"}},fetchKey:function(t){var e=["DruxtMenu",this.name,this.parentId].filter((function(t){return t}));return[].concat(Object(c.a)(e),[t(e.join(":"))]).join(":")},computed:x(x({items:function(t){return t.model},trail:function(t){var e=[],r=t.$route.path.substring(1).split("/");for(var n in r){var path=[n>0?e[n-1]:"",r[n]].join("/");e.push(path)}return e}},Object(f.c)({getEntitiesByFilter:"druxtMenu/getEntitiesByFilter"})),Object(f.d)({entities:function(t){return t.druxtMenu.entities}})),watch:{entities:function(){this.$forceUpdate()}},methods:x({getMenuItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];if(r+=1,!this.depth||r<=this.depth){var o=this.parentId||null;e&&(o=e.id,void 0!==e.attributes.bundle&&(o=[e.attributes.bundle,e.id].join(":")));var c=this.getEntitiesByFilter((function(e){return t.entities[e].attributes.menu_name===t.name&&t.entities[e].attributes.parent===o}));for(var l in c){var d=c[l];n.push({entity:d,children:this.getMenuItems(d,r)})}}return r-=1,n}},Object(f.b)({getMenu:"druxtMenu/get"})),druxt:{componentOptions:function(t){return[[t.name],["default"]]},fetchData:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.value){r.next=4;break}return r.next=3,e.getMenu({name:e.name,settings:t.query});case 3:e.model=e.getMenuItems();case 4:case"end":return r.stop()}}),r)})))()},propsData:function(t){var e=t.model;return{items:e,parentId:t.parentId,value:e}},settings:function(t,e){var r=t.$druxt,n=t.depth,o=t.maxDepth,c=t.minDepth,l=t.parentId,m=d()(r.settings.menu||{},e,{arrayMerge:function(t,e){return e}});return{query:x(x({},m.query||{}),{},{max_depth:o||n,min_depth:c,parent:l})}},slots:function(t){var e=this;return{default:function(r){return e.items.map((function(e){return t("DruxtMenuItem",{attrs:r,key:e.entity.id,props:{item:e}})}))}}}}},y=j,k=r(29),component=Object(k.a)(y,undefined,undefined,!1,null,null,null);e.default=component.exports},422:function(t,e,r){"use strict";r.r(e);r(34),r(161);var n={name:"DruxtBlockSystemMenuBlock",mixins:[r(385).a],computed:{name:function(){return this.settings.id.split(":")[1]}}},o=r(29),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("DruxtMenu",{attrs:{name:t.name}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DruxtMenu:r(396).default})}}]);